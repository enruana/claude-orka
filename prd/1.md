# 1. iniciar una nueva sesion de claude (main branch) en un proyecto

cd /path/to/project && tmux new-session -s {session_id}

ejemplo:
1.1 abrir una nueva terminal

1.2 ir a la ruta e iniciar una nueva sesion de tmux
cd /Users/andres.mantilla/Desktop/Me/software-engineering/claude-orka && tmux new-session -s claude-tmux-session-testing

1.3 iniciar claude en la sesion desde el orquestador
tmux send-keys -t claude-tmux-session-testing claude Enter

1.4 enviar comandos a claude 
tmux send-keys -t claude-tmux-session-testing "Hola claude como estas?"
tmux send-keys -t claude-tmux-session-testing Enter




# 2. create a branch from the main, keeping the same context and letting know to claude that is a new branch

tmux split-window -t {session_id} -v && tmux send-keys -t {sesion_id}:0.{pane_number} "echo 'A pane 0'" Enter

ejemplo:

2.1 hacer un split en la sesion actual
tmux split-window -t claude-tmux-session-testing -v 

2.2 moverse a la ruta del proyecto e iniciar claude code restaurando la sesion controlado desde el orquestador (avisamos a claude que es una branch creada)
tmux send-keys -t claude-tmux-session-testing:0.1 "cd /Users/andres.mantilla/Desktop/Me/software-engineering/claude-orka" Enter
tmux send-keys -t claude-tmux-session-testing:0.1 "claude --continue" Enter
tmux send-keys -t claude-tmux-session-testing:0.1 "este es el inicio de un fork llamado testing, tenlo en cuenta para mas adelante, responde con el nombre del fork"
tmux send-keys -t claude-tmux-session-testing:0.1 Enter


# 3. exportar un contexto de una rama creada

3.1 generar un export con el contexto a partir del fork
// mejorar el prompt a enviar para que solo tenga en cuenta el contexto de la conversacion.
// esto deberia tener un estado para guardar la ruta del export, con esto podemos luego leer la ruta del export en el merge

tmux send-keys -t claude-tmux-session-testing:0.1 "genera un reporte completo de nuestra conversacion de las decisiones y hallazgos desde que se hizo en este fork, y agrega un poco de contexto anterior si existe para entrar en la idea. todo esto guardalo en /path/to/prtoject/.claude-orka/exports/fork-name.md"
tmux send-keys -t claude-tmux-session-testing:0.1 Enter

# 4. cerrar ventana y hacer merge en la rama principal. 

4.1 cerrar la ventana (split) de tmux.
tmux kill-pane -t claude-tmux-session-testing:0.1

4.2 leer el contenido de contexto y ponerlo como input en el main branch 
// leer la ruta del export y traer el contenido y ponerlo en el contexto dando un resumen de lo que se logro 


